<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Cadastro de Usuario</title>
</h:head>
<h:body>

	<h:form>
		<h:messages />
		<h1>Tela de Cadastro</h1>

		<p:panelGrid columns="2">

			<p:outputLabel value="ID: " />
			<p:inputText readonly="true" value="#{usuarioBean.usuario.id}" />

			<p:outputLabel value="Nome: " />
			<p:inputText id="nome" value="#{usuarioBean.usuario.nome}"/>

			<p:outputLabel value="E-mail: " />
			<p:inputText id="email" value="#{usuarioBean.usuario.email}" />

			<p:outputLabel value="Senha: " />
			<p:password id="senha" value="#{usuarioBean.usuario.senha}" />

		</p:panelGrid>

		<br/>

		<h:commandButton value="SALVAR" action="#{usuarioBean.salvar}" />

		<br/>
		<br/>
		

		<p:dataTable value="#{usuarioBean.list}" var="u" cellpadding="15"
			border="1">
			<f:facet name="header">Lista de usuarios</f:facet>

			<p:column>
				<f:facet name="header">Id</f:facet>
				<p:outputLabel value="#{u.id}" />
			</p:column>

			<p:column>
				<f:facet name="header">Nome</f:facet>
				<p:outputLabel value="#{u.nome}" />
			</p:column>

			<p:column>
				<f:facet name="header">E-mail</f:facet>
				<p:outputLabel value="#{u.email}" />
			</p:column>

			<p:column>
				<f:facet name="header">Senha</f:facet>
				<p:outputLabel value="#{u.senha}" />
			</p:column>

			<p:column>
				<f:facet name="header">Editar</f:facet>
				<h:commandLink value="Editar">
					<f:setPropertyActionListener value="#{u}"
						target="#{usuarioBean.usuario}"></f:setPropertyActionListener>
				</h:commandLink>
			</p:column>
			
			<p:column >
				<f:facet name="header">Deletar</f:facet>
				<h:commandLink value="Deletar" action="#{usuarioBean.remover}">
					<f:setPropertyActionListener value="#{u}"
						target="#{usuarioBean.usuario}"></f:setPropertyActionListener>
				</h:commandLink>
			</p:column>

		</p:dataTable>


	</h:form>


</h:body>
</html>

