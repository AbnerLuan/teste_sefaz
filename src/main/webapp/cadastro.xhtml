<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Cadastro de Usuario</title>
</h:head>
<h:body>

	<h:form>
		<h:messages />

		<p:panelGrid columns="6">
			<f:facet name="header">Painel de Cadastro de Usuarios</f:facet>

			<p:outputLabel value="ID: " rendered="false" />
			<p:inputText readonly="true" value="#{usuarioBean.usuario.id}"
				rendered="false" />

			<p:outputLabel value="Nome: " />
			<p:inputText id="nome" value="#{usuarioBean.usuario.nome}" />

			<p:outputLabel value="E-mail: " />
			<p:inputText id="email" value="#{usuarioBean.usuario.email}" />

			<p:outputLabel value="Senha: " />
			<p:password id="senha" value="#{usuarioBean.usuario.senha}" />

		</p:panelGrid>
		<br />
		<p:commandButton value="SALVAR" action="#{usuarioBean.salvar}"
			ajax="false" />
		<br />
		<br />

		<p:dataTable value="#{usuarioBean.list}" var="u" cellpadding="15"
			border="1" paginator="true" rows="5">
			<f:facet name="header">Lista de usuarios</f:facet>

			<p:column>
				<f:facet name="header">Id</f:facet>
				<p:outputLabel value="#{u.id}" />
			</p:column>

			<p:column>
				<f:facet name="header">Nome</f:facet>
				<p:outputLabel value="#{u.nome}" />
			</p:column>

			<p:column>
				<f:facet name="header">E-mail</f:facet>
				<p:outputLabel value="#{u.email}" />
			</p:column>

			<p:column>
				<f:facet name="header">Senha</f:facet>
				<p:outputLabel value="#{u.senha}" />
			</p:column>

			<p:column width="100px">
				<f:facet name="header">Editar</f:facet>
				<p:commandButton ajax="false" value="Editar">
					<f:setPropertyActionListener value="#{u}"
						target="#{usuarioBean.usuario}"></f:setPropertyActionListener>
				</p:commandButton>
			</p:column>

			<p:column width="100px">
				<f:facet name="header">Deletar</f:facet>
				<p:commandButton ajax="false" value="Deletar"
					action="#{usuarioBean.remover}">
					<f:setPropertyActionListener value="#{u}"
						target="#{usuarioBean.usuario}"></f:setPropertyActionListener>
				</p:commandButton>
			</p:column>

			<p:column width="100px">
				<f:facet name="header">Telefones</f:facet>
				<h:commandLink immediate="true" action="telefone.xhtml"
					id="botaofone">
					<h:graphicImage url="resources/img/telefones.png" width="25"
						height="25" />
					<f:param name="codigouser" value="#{u.id}" />

				</h:commandLink>
			</p:column>

		</p:dataTable>

	</h:form>

</h:body>
</html>

